"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[699],{9699:(e,n,t)=>{t.r(n),t.d(n,{default:()=>K});var r=t(1470),i=t(7231),c=(t(5036),t(7698),t(90),t(1127),t(7766),t(2349),t(8633),t(7528),t(6067),t(882),t(4762),t(1172),t(887),t(3699),t(2947),t(79)),s=t(8825),l=t(3772),o=t(9006),a=t(9617),u=(t(8003),t(5199),t(5491),t(6372)),d=t.n(u);var h=t(5250),v=function(e){var n=e.routerMap,t=void 0===n?{}:n,i=(0,l.TH)().pathname,s=(0,l.s0)(),o=t[Object.keys(t).find((function(e){return e.startsWith(i)}))||""],a=(0,c.useMemo)((function(){var e={};return Object.keys(t).map((function(n){var r=t[n].split("/");e[r[r.length-1].trim()]=n})),e}),[t]);return(0,h.jsx)("div",{className:"i_RZ7OqLxtf0QtsMx9Lg",children:o.split("/").map((function(e,n,t){var i=t.length-1===n,c=a[e.trim()];return(0,h.jsxs)("span",{children:[(0,h.jsx)("span",{className:d()((0,r.Z)({},"UXNgfPKmW1UxHJS1H5jn",!i&&c)),onClick:function(){s(c)},children:e}),i?null:(0,h.jsx)("span",{className:"mWxB5SEBjyZGOJXDDNQ2",children:"/"})]},e)}))})};const f=(0,c.memo)(v);var p=t(7474),j=(0,c.createContext)({isLogin:p.Z.isLogin});j.displayName="MobxContext";const m=j;var g=t(8765),x=t(5323),y=t(7191),b=t(6187);var k=s.Z.Header;const O=function(e){var n=e.tabId,t=e.tabList,i=(0,l.s0)(),c=[{key:"1",label:(0,h.jsx)("div",{className:"EdF97wikBKSjUm5eOYcW",onClick:function(){localStorage.clear(),p.Z.setLogin(!1),i("/login")},children:"退出登录"})}];return(0,h.jsxs)(k,{className:"BBocqG8ga8REKXScIPgO",children:[(0,h.jsxs)("div",{className:"ja9HtPYs2pWHDtUwExiV",children:[(0,h.jsxs)("h1",{className:"OzUSkI_K7wZkE6azDnJr",children:[(0,h.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",alt:"logo"}),"管理系统"]}),t.map((function(e){return(0,h.jsxs)("div",{className:d()("r6PsesT1Swk8B0YJFYCP",(0,r.Z)({},"KbmCdHtUH4JIgWrPTlto",e.key===n)),children:[(0,h.jsx)("div",{onClick:function(){var n;n=e.path,i(n)},children:e.label}),(0,h.jsx)("div",{className:"Ir3LKO1ONJpH8AzpilYv"})]},e.key)}))]}),(0,h.jsx)("div",{className:"Plb73jE99IZSQ0M8LYaH",children:(0,h.jsx)(x.Z,{menu:{items:c},placement:"bottomLeft",arrow:{pointAtCenter:!0},children:(0,h.jsx)(y.C,{icon:(0,h.jsx)(b.Z,{})})})})]})};var Z=t(3121),P=s.Z.Sider;const N=function(e){var n=e.menu,t=e.selectKey,r=(0,c.useState)([]),s=(0,i.Z)(r,2),l=s[0],o=s[1],a=(0,c.useMemo)((function(){var e;return t||(n[0].children?null===(e=n[0].children[0])||void 0===e?void 0:e.key:n[0].key)}),[n,t]);return(0,c.useEffect)((function(){var e=[];n.forEach((function(n){var t;null!==(t=n.children)&&void 0!==t&&t.length&&e.push("".concat(n.key))})),o(e)}),[n]),(0,h.jsxs)(P,{theme:"light",width:160,children:[(0,h.jsx)("div",{style:{height:"28px"}}),(0,h.jsx)(Z.Z,{mode:"inline",openKeys:l,selectedKeys:["".concat(a)],items:n,onOpenChange:function(e){o(e)}})]})};function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=s.Z.Content;const H=(0,a.Pi)((function(e){var n=e.children,t=(0,l.TH)().pathname,r=(0,l.s0)(),a=p.Z.routerMap,u=p.Z.isLogin,d=p.Z.getRouteMenu.menu,v=(0,c.useMemo)((function(){var e,n,r;if(!d.length)return["",""];var i="",c="";return function e(n,r){n.length<0||n.forEach((function(n){var s,l;t.includes(n.path)&&(c=r||"".concat(n.key),null!==(l=n.children)&&void 0!==l&&l.length||(i=r?"".concat(n.key):""));var o="";null!==(s=n.children)&&void 0!==s&&s.length&&(o="".concat(r?r+g.Q5+n.key:n.key),e(n.children,o))}))}(d),[(null===(e=c)||void 0===e||null===(n=e.split(g.Q5))||void 0===n?void 0:n[0])||"".concat(null===(r=d[0])||void 0===r?void 0:r.key),"".concat(i)]}),[t,d]),j=(0,i.Z)(v,2),x=j[0],y=j[1],b=(0,c.useMemo)((function(){var e,n;return x?function e(n){return n.map((function(n){var t=n.path,r=n.children;return C(C({},n),{},{label:null!=r&&r.length?n.label:(0,h.jsxs)(o.rU,{to:t,children:[" ",n.label]}),children:null!=r&&r.length?e(r):void 0})}))}((null===(e=d.filter((function(e){return e.key===x})))||void 0===e||null===(n=e[0])||void 0===n?void 0:n.children)||[]):[]}),[x,d]);return(0,c.useEffect)((function(){u||r("/login")}),[u,r]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(O,{tabId:x,tabList:d}),(0,h.jsxs)(s.Z,{className:"iFx9QWuN3rkDbruHxKnd",children:[b.length?(0,h.jsx)(N,{menu:b,selectKey:y}):null,(0,h.jsx)(s.Z,{children:(0,h.jsxs)(E,{style:{margin:"0 16px"},children:[(0,h.jsx)(f,{routerMap:a}),(0,h.jsx)("div",{className:"BGCUdPTE8t2U1QxX0Q91",children:(0,h.jsx)(m.Provider,{value:{isLogin:p.Z.isLogin},children:n})})]})})]})]})})),K=function(e){var n=e.children;return(0,h.jsx)(H,{children:n})}}}]);