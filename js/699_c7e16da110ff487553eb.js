"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[699],{9699:(e,n,t)=>{t.r(n),t.d(n,{default:()=>C});var r=t(1470),i=t(7231),c=(t(5836),t(8666),t(6881),t(6510),t(5646),t(7168),t(8246),t(2273),t(8424),t(6445),t(5625),t(1165),t(1222),t(79)),o=t(8825),l=t(3772),s=t(9006),a=t(9617),u=(t(3450),t(6372)),h=t.n(u);var d=t(5250),f=function(e){var n=e.routerMap,t=(0,l.TH)().pathname,i=(0,l.s0)(),o=n[t]||"",s=(0,c.useMemo)((function(){var e={};return Object.keys(n).map((function(t){var r=n[t].split("/");e[r[r.length-1].trim()]=t})),e}),[n]);return(0,d.jsx)("div",{className:"i_RZ7OqLxtf0QtsMx9Lg",children:o.split("/").map((function(e,n,t){var c=t.length-1===n,o=s[e.trim()];return(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{className:h()((0,r.Z)({},"UXNgfPKmW1UxHJS1H5jn",!c&&o)),onClick:function(){i(o)},children:e}),c?null:(0,d.jsx)("span",{className:"mWxB5SEBjyZGOJXDDNQ2",children:"/"})]},e)}))})};const v=(0,c.memo)(f);var p=t(2423),g=(0,c.createContext)({isLogin:p.Z.isLogin});g.displayName="MobxContext";const j=g;var m=t(5323),y=t(7191),b=t(6187);var x=o.Z.Header;const O=function(e){var n=e.tabId,t=e.tabList,i=(0,l.s0)(),c=[{key:"1",label:(0,d.jsx)("div",{className:"EdF97wikBKSjUm5eOYcW",onClick:function(){localStorage.clear(),p.Z.setLogin(!1),i("/login")},children:"退出登录"})}];return(0,d.jsxs)(x,{className:"BBocqG8ga8REKXScIPgO",children:[(0,d.jsxs)("div",{className:"ja9HtPYs2pWHDtUwExiV",children:[(0,d.jsxs)("h1",{className:"OzUSkI_K7wZkE6azDnJr",children:[(0,d.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",alt:"logo"}),"管理系统"]}),t.map((function(e){return(0,d.jsxs)("div",{className:h()("r6PsesT1Swk8B0YJFYCP",(0,r.Z)({},"KbmCdHtUH4JIgWrPTlto",e.key===n)),children:[(0,d.jsx)("div",{onClick:function(){var n;n=e.path,i(n)},children:e.label}),(0,d.jsx)("div",{className:"Ir3LKO1ONJpH8AzpilYv"})]},e.key)}))]}),(0,d.jsx)("div",{className:"Plb73jE99IZSQ0M8LYaH",children:(0,d.jsx)(m.Z,{menu:{items:c},placement:"bottomLeft",arrow:{pointAtCenter:!0},children:(0,d.jsx)(y.C,{icon:(0,d.jsx)(b.Z,{})})})})]})};var k=t(3121),Z=o.Z.Sider;const P=function(e){var n=e.menu,t=e.selectKey,r=(0,c.useState)([]),o=(0,i.Z)(r,2),l=o[0],s=o[1],a=(0,c.useMemo)((function(){var e;return t||(n[0].children?null===(e=n[0].children[0])||void 0===e?void 0:e.key:n[0].key)}),[n,t]);return(0,c.useEffect)((function(){var e=[];n.forEach((function(n){var t;null!==(t=n.children)&&void 0!==t&&t.length&&e.push("".concat(n.key))})),s(e)}),[n]),(0,d.jsxs)(Z,{theme:"light",width:160,children:[(0,d.jsx)("div",{style:{height:"28px"}}),(0,d.jsx)(k.Z,{mode:"inline",openKeys:l,selectedKeys:["".concat(a)],items:n,onOpenChange:function(e){s(e)}})]})};function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E=o.Z.Content;const N=(0,a.Pi)((function(e){var n=e.children,t=(0,l.TH)().pathname,r=(0,l.s0)(),a=p.Z.menuConf,u=p.Z.routerMap,h=p.Z.isLogin,f=(0,c.useMemo)((function(){var e,n,r;if(!a.length)return["",""];var i="",c="";return function e(n,r){n.length<0||n.forEach((function(n){var o,l;t.includes(n.path)&&(c=r||"".concat(n.key),null!==(l=n.children)&&void 0!==l&&l.length||(i=r?"".concat(n.key):""));var s="";null!==(o=n.children)&&void 0!==o&&o.length&&(s=r?"".concat(r,"_").concat(n.key):"".concat(n.key),e(n.children,s))}))}(a),[(null===(e=c)||void 0===e||null===(n=e.split("_"))||void 0===n?void 0:n[0])||"".concat(null===(r=a[0])||void 0===r?void 0:r.key),"".concat(i)]}),[t,a]),g=(0,i.Z)(f,2),m=g[0],y=g[1],b=(0,c.useMemo)((function(){var e,n;return m?function e(n){return n.map((function(n){var t=n.path,r=n.children;return L(L({},n),{},{label:null!=r&&r.length?n.label:(0,d.jsxs)(s.rU,{to:t,children:[" ",n.label]}),children:null!=r&&r.length?e(r):void 0})}))}((null===(e=a.filter((function(e){return e.key===m})))||void 0===e||null===(n=e[0])||void 0===n?void 0:n.children)||[]):[]}),[m,a]);return(0,c.useEffect)((function(){h||r("/login")}),[h,r]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(O,{tabId:m,tabList:a}),(0,d.jsxs)(o.Z,{className:"iFx9QWuN3rkDbruHxKnd",children:[b.length?(0,d.jsx)(P,{menu:b,selectKey:y}):null,(0,d.jsx)(o.Z,{children:(0,d.jsxs)(E,{style:{margin:"0 16px"},children:[(0,d.jsx)(v,{routerMap:u}),(0,d.jsx)("div",{className:"BGCUdPTE8t2U1QxX0Q91",children:(0,d.jsx)(j.Provider,{value:{isLogin:p.Z.isLogin},children:n})})]})})]})]})})),C=function(e){var n=e.children;return(0,d.jsx)(N,{children:n})}},2423:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(319),i=t(8024),c=t(1470),o=(t(5836),t(8666),t(8246),t(2273),t(8424),t(7168),t(6445),t(5625),t(1165),t(1222),t(9619)),l=t(2644);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t(5646),t(9670),t(9451),t(8196),t(9680),t(1125);const u=new(function(){function e(){(0,r.Z)(this,e),(0,c.Z)(this,"isLogin",!!localStorage.getItem("token")),(0,o.ky)(this)}return(0,i.Z)(e,[{key:"menuConf",get:function(){var e;if(null===l.Z||void 0===l.Z||null===(e=l.Z[0])||void 0===e||!e.childrenList)return[];var n=[];return function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.forEach((function(n){var i=n.title,c=n.path,o=n.id,l=n.index,s=n.notMenu,a=n.childrenList;if(!s){var u={key:o,path:l?r:c||"",label:i||"",children:[]};t.push(u),null!=a&&a.length&&e(a,u.children,c)}}))}(l.Z[0].childrenList,n),n}},{key:"fullRouter",get:function(){return function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.map((function(n){var r=n.path,i=n.index,c=n.childrenList;return a(a({},n),{},{path:i?t:r||"",childrenList:null!=c&&c.length?e(c,r):void 0})}))}(l.Z)}},{key:"routerMap",get:function(){return e=this.fullRouter,n={},function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(t){var i="",c=t.path,o=t.title,l=t.childrenList,s=void 0===l?[]:l;i=r?"".concat(r).concat(o?" / "+o:""):o,c&&(!n[c]||n[c].split("/").length<i.split("/").length)&&(n[c]=i),s.length&&e(s,i)}))}(e),n;var e,n}},{key:"setLogin",value:function(e){this.isLogin=e}}]),e}())}}]);