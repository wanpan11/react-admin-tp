"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[255],{6432:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(319),r=n(8024),i=n(1470),o=(n(1405),n(5836),n(7765),n(2273),n(8424),n(7168),n(6445),n(8666),n(5625),n(1165),n(1222),n(3785));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}const s=new(function(){function e(t){(0,a.Z)(this,e),(0,i.Z)(this,"baseConfig",{baseURL:"",timeout:3e4}),this.instance=o.Z.create(Object.assign(this.baseConfig,t)),this.instance.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),this.instance.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response)}))}return(0,r.Z)(e,[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2?arguments[2]:void 0,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},arguments.length>3?arguments[3]:void 0);return a.url=e,a.method=t,"get"===t.toLocaleLowerCase()?a.params=n:a.data=n,this.instance.request(a)}}]),e}())({})},4255:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var a=n(270),r=n(7231),i=n(366),o=n.n(i),l=n(79);n(8246);const s={filter_box:"aWBYJM3Th7WmLyY24Zis",button_box_1:"La2ugaJxEQAabkUZCh16",button_box_2:"PKHigT9m1ShJb6dAzFBs"};var c=n(4402),u=n(3872),d=n(9724),p=n(5827),m=n(1372),b=n(5477),h=n(8526),f=n(2080),y=n(5250),x=d.Z.RangePicker,g=function(e,t){switch(e){case"radio":return(0,y.jsx)(p.ZP.Group,{options:t.options,optionType:"button",buttonStyle:"solid",disabled:t.disable});case"node":return t.leftNode;case"switch":return(0,y.jsx)(m.Z,{disabled:t.disable});case"input":return(0,y.jsx)(b.Z,{placeholder:t.placeholder,disabled:t.disable});case"numberInput":return(0,y.jsx)(h.Z,{placeholder:t.placeholder,disabled:t.disable});case"select":return(0,y.jsx)(f.Z,{placeholder:t.placeholder,disabled:t.disable,options:t.options,style:{minWidth:"150px"}});case"date":return(0,y.jsx)(x,{disabled:t.disable,placeholder:["开始时间","结束时间"]});case"textArea":return(0,y.jsx)(b.Z.TextArea,{placeholder:t.placeholder,disabled:t.disable,showCount:!0,maxLength:500,style:{height:120,marginBottom:24}})}},j=function(e){var t=e.filterInfo,n=e.initialValues,a=e.onSubmit,i=e.reset,o=e.loading,d=e.compact,p=void 0!==d&&d,m=c.Z.useForm(),b=(0,r.Z)(m,1)[0];return(0,l.useEffect)((function(){n&&b.setFieldsValue(n)}),[]),(0,y.jsx)("div",{className:s.filter_box,children:(0,y.jsxs)(c.Z,{form:b,colon:!1,layout:"inline",onFinish:function(e){a&&a(e)},style:{paddingRight:200,position:"relative"},children:[t.length>0?t.map((function(e){return(0,y.jsx)(c.Z.Item,{name:e.name,label:e.label,children:g(e.type,e)},e.name)})):null,(0,y.jsxs)("div",{className:s[p?"button_box_2":"button_box_1"],children:[i?(0,y.jsx)(u.ZP,{htmlType:"reset",children:"重置"}):null,(0,y.jsx)(u.ZP,{htmlType:"submit",type:"primary",loading:o,children:"查询"})]})]})})};const v=(0,l.memo)(j);n(5836),n(8666);var Z=n(609),k=function(e){var t=e.open,n=e.title,a=e.editInfo,i=e.initialValues,o=e.onCancel,s=e.onOk,u=e.noFooter,d=c.Z.useForm(),p=(0,r.Z)(d,1)[0];return(0,l.useEffect)((function(){t&&a.length&&(i?p.setFieldsValue(i):a.forEach((function(e){e.initialValue&&p.setFieldValue(e.name,e.initialValue)})))}),[t,i,p,a]),(0,y.jsx)(Z.Z,{open:t,title:n,okText:"确定",cancelText:"取消",width:800,closable:!!u,destroyOnClose:!0,maskClosable:!1,onCancel:o,onOk:function(){p.submit()},afterClose:function(){p.resetFields()},footer:u?null:void 0,children:(0,y.jsx)("div",{className:"oBIcZpEHWa28_tCCUJZN",children:(0,y.jsx)(c.Z,{form:p,labelCol:{span:5},labelAlign:"right",onFinish:s,children:a.map((function(e){var t;return e.hide?null:"blockNode"===e.type?(0,y.jsxs)("span",{children:[" ",e.label," "]},e.name):(0,y.jsx)(c.Z.Item,{wrapperCol:{span:"select"===e.type?8:12},name:e.name,label:e.label,rules:[e.rule],initialValue:"radio"===e.type?null===(t=e.options)||void 0===t?void 0:t[0].value:void 0,children:g(e.type,e)},e.name)}))})})})};const O=(0,l.memo)(k);var C=n(7150),P=n(2958),w=n(664),I=n(3151),S=n(6432),F=function(e){return S.Z.send("/company/insert","post",e,{headers:{"Content-Type":"application/json"}})},T=function(e){return S.Z.send("/company/list","get",e)},_=[{name:"projectName",type:"input",label:"厂商名称"}],N=[{name:"category",label:"类型",type:"radio",rule:{required:!0,message:"请选择厂商类型！"},options:[{label:"研发",value:"1"},{label:"发行",value:"2"},{label:"研发一体",value:"3"}]},{label:"厂商名称",name:"name",type:"input",rule:{required:!0,message:"请输入厂商名称！"}},{label:"联系人",name:"contact",type:"input",rule:{required:!0,message:"请输入厂商类型联系人！"}},{label:"联系电话",name:"mobile",type:"input",rule:{required:!0,message:"请输入正确的厂商联系电话！",pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/}}];const V=function(){var e=(0,l.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1],s=(0,I.Z)(T,{defaultParams:[{pageNum:1,pageSize:5,name:""}],loadingDelay:300}),c=s.data,d=s.error,p=s.loading,m=s.run,b=[{title:"ID",key:"id",dataIndex:"id"},{title:"类型",key:"category",dataIndex:"category"},{title:"厂商名称",key:"name",dataIndex:"name"},{title:"联系人",key:"contact",dataIndex:"contact"},{title:"联系电话",key:"mobile",dataIndex:"mobile"},{title:"创建时间",key:"updateTime",dataIndex:"updateTime"},{title:"编辑",key:"edit",render:function(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(u.ZP,{type:"link",children:"删除"}),(0,y.jsx)(u.ZP,{type:"link",children:"编辑"})]})}}],h=function(){var e=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(t);case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C.Z.error({message:"companyService.insert ===> "+e.t0.message});case 10:i(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return d&&console.error("companyService.list ===> ",d),(0,y.jsxs)("div",{children:[(0,y.jsx)(v,{loading:p,filterInfo:_,onSubmit:function(){m({pageNum:1,pageSize:10,name:""})},reset:!0}),(0,y.jsx)("div",{style:{height:"12px"}}),(0,y.jsxs)(P.Z,{children:[(0,y.jsx)("div",{style:{marginBottom:"12px"},children:(0,y.jsx)(u.ZP,{type:"primary",onClick:function(){i(!0)},children:"新建厂商"})}),(0,y.jsx)(w.Z,{dataSource:null==c?void 0:c.data.list,columns:b,rowKey:"id",loading:p})]}),(0,y.jsx)(O,{open:n,title:"厂商编辑",editInfo:N,onCancel:function(){i(!1)},onOk:function(e){h(e)}})]})}}}]);