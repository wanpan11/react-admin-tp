"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[20],{4445:(t,n,e)=>{e.r(n),e.d(n,{default:()=>N}),e(5836),e(8666),e(5646),e(8246),e(7168);var i=e(79),r=e(3772),s=e(8825),a=e(3121);var l=e(5250),c=function(t){var n=t.routerMap[(0,r.TH)().pathname];return(0,l.jsx)("div",{className:"i_RZ7OqLxtf0QtsMx9Lg",children:(0,l.jsx)("span",{children:n})})};const o=(0,i.memo)(c);var d=e(9006),h=e(2423),u=(0,i.createContext)({isLogin:h.Z.isLogin});u.displayName="MobxContext";const v=u;var x=e(1470),g=e(5323),f=e(7191),p=e(6187);var m=e(6372),j=e.n(m),L=s.Z.Header;const Z=function(t){var n=t.tabId,e=t.tabList,i=(0,r.s0)(),s=[{key:"1",label:(0,l.jsx)("div",{className:"EdF97wikBKSjUm5eOYcW",onClick:function(){localStorage.clear(),h.Z.setLogin(!1),i("/login")},children:"退出登录"})}];return(0,l.jsxs)(L,{className:"BBocqG8ga8REKXScIPgO",children:[(0,l.jsxs)("div",{className:"ja9HtPYs2pWHDtUwExiV",children:[(0,l.jsxs)("h1",{className:"OzUSkI_K7wZkE6azDnJr",children:[(0,l.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg",alt:"logo"}),"管理系统"]}),e.map((function(t){return(0,l.jsxs)("div",{className:j()("r6PsesT1Swk8B0YJFYCP",(0,x.Z)({},"KbmCdHtUH4JIgWrPTlto",t.id===n)),children:[(0,l.jsx)("div",{onClick:function(){var n;n=t.path,i(n)},children:t.label}),(0,l.jsx)("div",{className:"Ir3LKO1ONJpH8AzpilYv"})]},t.id)}))]}),(0,l.jsx)("div",{className:"Plb73jE99IZSQ0M8LYaH",children:(0,l.jsx)(g.Z,{menu:{items:s},placement:"bottomLeft",arrow:{pointAtCenter:!0},children:(0,l.jsx)(f.C,{icon:(0,l.jsx)(p.Z,{})})})})]})};var b=e(9617),k=s.Z.Content,y=s.Z.Sider;const K=(0,b.Pi)((function(t){var n=t.children,e=(0,r.TH)().pathname,c=(0,r.s0)(),u=h.Z.tabList,x=h.Z.routerMap,g=h.Z.isLogin,f=(0,i.useMemo)((function(){var t,n="";!function t(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i.forEach((function(i){var s=i.childrenList,a=void 0===s?[]:s,l=i.path,c=i.id;l===e&&(n=r?r+"&"+c:c);var o="";a.length&&(o=r?"".concat(r,"_").concat(c):"".concat(c),t(a,o))}))}(u);var i=null===(t=n)||void 0===t?void 0:t.split("&");return{topKey:i[0],leftKey:i[i.length-1]}}),[e,u]),p=f.topKey,m=f.leftKey,j=(0,i.useMemo)((function(){var t,n;return p?function t(n){return n.map((function(n){return{label:n.childrenList?n.label:(0,l.jsx)(d.rU,{to:n.path,children:n.label}),path:n.path,key:n.id,children:n.childrenList?t(n.childrenList):void 0}}))}((null===(t=u.filter((function(t){return t.id===p})))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.childrenList)||[]):[]}),[p,u]);return(0,i.useEffect)((function(){g||c("/login")}),[g,c]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Z,{tabId:p,tabList:u}),(0,l.jsxs)(s.Z,{className:"iFx9QWuN3rkDbruHxKnd",children:[j.length?(0,l.jsxs)(y,{theme:"light",children:[(0,l.jsx)("div",{style:{height:"28px"}}),(0,l.jsx)(a.Z,{selectedKeys:[m],mode:"inline",items:j})]}):null,(0,l.jsx)(s.Z,{children:(0,l.jsxs)(k,{style:{margin:"0 16px"},children:[(0,l.jsx)(o,{routerMap:x}),(0,l.jsx)("div",{className:"BGCUdPTE8t2U1QxX0Q91",children:(0,l.jsx)(v.Provider,{value:{isLogin:h.Z.isLogin},children:n})})]})})]})]})})),N=function(t){var n=t.children;return(0,l.jsx)(K,{children:n})}},2423:(t,n,e)=>{e.d(n,{Z:()=>c});var i=e(319),r=e(8024),s=e(1470),a=(e(8246),e(9619)),l=e(2644);e(5836),e(8666);const c=new(function(){function t(){(0,i.Z)(this,t),(0,s.Z)(this,"isLogin",!!localStorage.getItem("token")),(0,a.ky)(this)}return(0,r.Z)(t,[{key:"tabList",get:function(){return function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n.map((function(n){var i=n.title,r=n.path,s=n.id,a=n.index,l=n.childrenList,c=void 0===l?[]:l;return{id:s,path:a?e:r,label:i,childrenList:c.length?t(c,r):void 0}}))}([l.Z[0]])[0].childrenList}},{key:"routerMap",get:function(){var t,n=this.tabList;return t={},function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.forEach((function(e){var r,s=e.path,a=e.label,l=e.childrenList,c=void 0===l?[]:l;r=i+a,t[s]=r,c.length&&n(c,a?r+" / ":"")}))}(n),t}},{key:"setLogin",value:function(t){this.isLogin=t}}]),t}())}}]);