"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[255],{6432:(e,t,n)=>{n.d(t,{ZP:()=>u});var r=n(319),a=n(8024),i=n(1470),o=(n(249),n(6067),n(882),n(8633),n(5036),n(4762),n(1172),n(7698),n(887),n(3699),n(2947),n(3785)),l=n(7150);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=911;const u=new(function(){function e(t){(0,r.Z)(this,e),(0,i.Z)(this,"baseConfig",{baseURL:"",timeout:3e4}),this.instance=o.Z.create(Object.assign(this.baseConfig,t)),this.instance.interceptors.request.use((function(e){return e})),this.instance.interceptors.response.use((function(e){return e.data}),(function(e){return console.error("请求异常 ===> ",e.message),l.Z.error({message:"请求异常 ===> ".concat(e.message)}),{code:c,data:{}}}))}return(0,a.Z)(e,[{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2?arguments[2]:void 0,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},arguments.length>3?arguments[3]:void 0);return r.url=e,r.method=t,"get"===t.toLocaleLowerCase()?r.params=n:r.data=n,this.instance.request(r)}}]),e}())({})},4255:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L}),n(6067),n(882),n(8633),n(5036),n(4762),n(1172),n(7698),n(887),n(3699),n(2947);var r=n(270),a=n(1470),i=n(7231),o=n(366),l=n.n(o),s=n(79);n(7528);const c={filter_box:"aWBYJM3Th7WmLyY24Zis",button_box_1:"La2ugaJxEQAabkUZCh16",button_box_2:"PKHigT9m1ShJb6dAzFBs"};var u=n(4402),d=n(3872),p=n(9724),b=n(5827),m=n(1372),f=n(5477),h=n(8526),y=n(2080),g=n(5250),j=p.Z.RangePicker,x=function(e,t){switch(e){case"radio":return(0,g.jsx)(b.ZP.Group,{options:t.options,optionType:"button",buttonStyle:"solid",disabled:t.disable});case"node":return t.leftNode;case"switch":return(0,g.jsx)(m.Z,{disabled:t.disable});case"input":return(0,g.jsx)(f.Z,{placeholder:t.placeholder,disabled:t.disable});case"numberInput":return(0,g.jsx)(h.Z,{placeholder:t.placeholder,disabled:t.disable});case"select":return(0,g.jsx)(y.Z,{placeholder:t.placeholder,disabled:t.disable,options:t.options,style:{minWidth:"150px"}});case"date":return(0,g.jsx)(j,{disabled:t.disable,placeholder:["开始时间","结束时间"]});case"textArea":return(0,g.jsx)(f.Z.TextArea,{placeholder:t.placeholder,disabled:t.disable,showCount:!0,maxLength:500,style:{height:120,marginBottom:24}})}},v=function(e){var t=e.filterInfo,n=e.initialValues,r=e.onSubmit,a=e.reset,o=e.loading,l=e.compact,p=void 0!==l&&l,b=u.Z.useForm(),m=(0,i.Z)(b,1)[0];return(0,s.useEffect)((function(){n&&m.setFieldsValue(n)}),[]),(0,g.jsx)("div",{className:c.filter_box,children:(0,g.jsxs)(u.Z,{form:m,colon:!1,layout:"inline",onFinish:function(e){r&&r(e)},style:{paddingRight:200,position:"relative"},children:[t.length>0?t.map((function(e){return(0,g.jsx)(u.Z.Item,{name:e.name,label:e.label,children:x(e.type,e)},e.name)})):null,(0,g.jsxs)("div",{className:c[p?"button_box_2":"button_box_1"],children:[a?(0,g.jsx)(d.ZP,{htmlType:"reset",children:"重置"}):null,(0,g.jsx)(d.ZP,{htmlType:"submit",type:"primary",loading:o,children:"查询"})]})]})})};const Z=(0,s.memo)(v);var O=n(609),P=function(e){var t=e.open,n=e.title,r=e.editInfo,a=e.initialValues,o=e.onCancel,l=e.onOk,c=e.noFooter,d=u.Z.useForm(),p=(0,i.Z)(d,1)[0];return(0,s.useEffect)((function(){t&&r.length&&(a?p.setFieldsValue(a):r.forEach((function(e){e.initialValue&&p.setFieldValue(e.name,e.initialValue)})))}),[t,a,p,r]),(0,g.jsx)(O.Z,{open:t,title:n,okText:"确定",cancelText:"取消",width:800,closable:!!c,destroyOnClose:!0,maskClosable:!1,onCancel:o,onOk:function(){p.submit()},afterClose:function(){p.resetFields()},footer:c?null:void 0,children:(0,g.jsx)("div",{className:"oBIcZpEHWa28_tCCUJZN",children:(0,g.jsx)(u.Z,{form:p,labelCol:{span:5},labelAlign:"right",onFinish:l,children:r.map((function(e){var t;return e.hide?null:"blockNode"===e.type?(0,g.jsxs)("span",{children:[" ",e.label," "]},e.name):(0,g.jsx)(u.Z.Item,{wrapperCol:{span:"select"===e.type?8:12},name:e.name,label:e.label,rules:[e.rule],initialValue:"radio"===e.type?null===(t=e.options)||void 0===t?void 0:t[0].value:void 0,children:x(e.type,e)},e.name)}))})})})};const k=(0,s.memo)(P);var w=n(7150),C=n(7414),I=n(664),S=n(3151),F=n(6432),T=function(e){return F.ZP.send("/company/insert","post",e,{headers:{"Content-Type":"application/json"}})},_=function(e){return F.ZP.send("/company/list","get",e)},D=n(8765);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=[{name:"projectName",type:"input",label:"厂商名称"}],q=[{name:"category",label:"类型",type:"radio",rule:{required:!0,message:"请选择厂商类型！"},options:[{label:"研发",value:"1"},{label:"发行",value:"2"},{label:"研发一体",value:"3"}]},{label:"厂商名称",name:"name",type:"input",rule:{required:!0,message:"请输入厂商名称！"}},{label:"联系人",name:"contact",type:"input",rule:{required:!0,message:"请输入厂商类型联系人！"}},{label:"联系电话",name:"mobile",type:"input",rule:{required:!0,message:"请输入正确的厂商联系电话！",pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/}}];const L=function(){var e=(0,s.useState)(!1),t=(0,i.Z)(e,2),n=t[0],a=t[1],o=(0,s.useState)({}),c=(0,i.Z)(o,2),u=c[0],p=c[1],b=(0,s.useState)(D.r),m=(0,i.Z)(b,2),f=m[0],h=(m[1],(0,S.Z)(_,{defaultParams:[V(V({},f),u)],loadingDelay:300})),y=h.data,j=h.error,x=h.loading,v=h.run,O=[{title:"ID",key:"id",dataIndex:"id"},{title:"类型",key:"category",dataIndex:"category"},{title:"厂商名称",key:"name",dataIndex:"name"},{title:"联系人",key:"contact",dataIndex:"contact"},{title:"联系电话",key:"mobile",dataIndex:"mobile"},{title:"创建时间",key:"updateTime",dataIndex:"updateTime"},{title:"编辑",key:"edit",render:function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.ZP,{type:"link",children:"删除"}),(0,g.jsx)(d.ZP,{type:"link",children:"编辑"})]})}}],P=function(){var e=(0,r.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:n=e.sent,console.log(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w.Z.error({message:"companyService.insert ===> "+e.t0.message});case 10:a(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return j&&console.error("companyService.list ===> ",j),(0,g.jsxs)("div",{children:[(0,g.jsx)(Z,{loading:x,filterInfo:N,onSubmit:function(e){v(V(V({},D.r),e)),p(e)},reset:!0}),(0,g.jsx)("div",{style:{height:"12px"}}),(0,g.jsxs)(C.Z,{children:[(0,g.jsx)("div",{style:{marginBottom:"12px"},children:(0,g.jsx)(d.ZP,{type:"primary",onClick:function(){a(!0)},children:"新建厂商"})}),(0,g.jsx)(I.Z,{dataSource:null==y?void 0:y.data.list,columns:O,rowKey:"id",loading:x})]}),(0,g.jsx)(k,{open:n,title:"厂商编辑",editInfo:q,onCancel:function(){a(!1)},onOk:function(e){P(e)}})]})}}}]);